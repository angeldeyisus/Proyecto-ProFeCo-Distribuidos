<div class="container">
  <!-- HEADER -->
  <header class="header">
    <h1>游 ProFeCo - Comparador de Precios</h1>
    <div *ngIf="usuarioLogueado" class="user-info">
      Bienvenido, {{ usuarioActual?.nombre }}
      <button (click)="logout()" class="logout-btn">Cerrar Sesi칩n</button>
    </div>
  </header>

  <!-- INDICADOR DE MODO -->
  <div *ngIf="!serviciosActivos" class="demo-warning">
    丘멆잺 Modo Demo - Los servicios backend no est치n disponibles
  </div>

  <!-- AUTENTICACI칍N -->
  <div *ngIf="!usuarioLogueado" class="auth-container">
    <!-- PESTA칌AS -->
    <div class="tabs">
      <button 
        [class.active]="modo === 'login'" 
        (click)="cambiarModo('login')"
        class="tab-button">
        游댏 Iniciar Sesi칩n
      </button>
      <button 
        [class.active]="modo === 'registro'" 
        (click)="cambiarModo('registro')"
        class="tab-button">
        游닇 Registrarse
      </button>
    </div>

    <!-- FORMULARIO LOGIN -->
    <div *ngIf="modo === 'login'" class="form-section">
      <h2>Ingresa a tu cuenta</h2>
      <div class="form-group">
        <input 
          type="email" 
          [(ngModel)]="loginData.email" 
          placeholder="Email" 
          class="form-input">
        <input 
          type="password" 
          [(ngModel)]="loginData.password" 
          placeholder="Contrase침a" 
          class="form-input">
        <button (click)="login()" class="btn-primary">Entrar a ProFeCo</button>
      </div>
      
      <div class="demo-info">
        <p><strong>Datos de prueba:</strong></p>
        <p>Email: test@test.com | Password: 123456</p>
      </div>
    </div>

    <!-- FORMULARIO REGISTRO -->
    <div *ngIf="modo === 'registro'" class="form-section">
      <h2>Crear nueva cuenta</h2>
      <div class="form-group">
        <input 
          type="text" 
          [(ngModel)]="registroData.nombre" 
          placeholder="Nombre completo" 
          class="form-input">
        <input 
          type="email" 
          [(ngModel)]="registroData.email" 
          placeholder="Email" 
          class="form-input">
        <input 
          type="password" 
          [(ngModel)]="registroData.password" 
          placeholder="Contrase침a (m칤nimo 6 caracteres)" 
          class="form-input">
        <select 
          [(ngModel)]="registroData.tipo_usuario" 
          class="form-input">
          <option value="CONSUMIDOR">游녻 Consumidor</option>
          <option value="TIENDA">游낅 Tienda</option>
          <option value="PROFECO">丘뒲잺 ProFeCo</option>
        </select>
        <input 
          type="tel" 
          [(ngModel)]="registroData.telefono" 
          placeholder="Tel칠fono (opcional)" 
          class="form-input">
        <button (click)="registro()" class="btn-primary">Crear Cuenta</button>
      </div>
    </div>

    <!-- MENSAJES -->
    <div *ngIf="mensaje" class="message" [class.error]="esError">
      {{ mensaje }}
    </div>
  </div>

  <!-- DASHBOARD -->
  <div *ngIf="usuarioLogueado" class="dashboard">
    <h2>游닍 Cat치logo de Productos</h2>
    <p>Explora nuestro cat치logo y compara precios</p>
    
    <!-- PRODUCTOS -->
    <div class="products-grid">
      <div *ngFor="let producto of productos" class="product-card">
        <div class="product-icon">游닍</div>
        <h3>{{ producto.nombre }}</h3>
        <p class="product-brand">{{ producto.marca }}</p>
        <p class="product-desc">{{ producto.descripcion }}</p>
        <div class="product-details">
          <span class="product-size">{{ producto.contenido }} {{ producto.unidad_medida }}</span>
          <span *ngIf="producto.precio" class="product-price">${{ producto.precio }}</span>
        </div>
      </div>
    </div>

    <div *ngIf="productos.length === 0" class="no-products">
      <p>No hay productos disponibles</p>
      <button (click)="cargarProductos()" class="btn-secondary">Cargar Productos</button>
    </div>
  </div>
</div>